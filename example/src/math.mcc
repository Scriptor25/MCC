namespace example

define :add(x, y) #:math {
    %result = %x + %y;
    tellraw(@s, `${%x} + ${%y} = ${%result}`);
    return %result;
}

define :sub(x, y) #:math {
    %result = %x - %y;
    tellraw(@s, `${%x} - ${%y} = ${%result}`);
    return %result;
}

define :fib(n) #:math {
    if (%n <= 1)
        return %n;
    return function(:fib_else, { n: %n });
}

define :fib_else(n) {
    return function(:fib, { n: %n - 1 })
         + function(:fib, { n: %n - 2 });
}
